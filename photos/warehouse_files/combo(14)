YUI.add("flickr-activity-recentByType-fetcher",function(e,t){"use strict";function n(t){var n={extras:["sizes","icon_urls","ignored","rev_ignored","tags","autotags","datecreate"].join(",")+","+e.APIHelper.request.getRebootPhotoExtras(),per_page:t.perPage||30,count:30,page:t.page||1},r;return r=e.merge(n,t.apiParams||{}),YUI.Env.isServer&&e.SearchHelper.unescapeParameters(r),r}function r(t,n,r){var i=t.apiResponse,s=t.notificationModelRegistry,o=t.notificationsModelRegistry,u=t.photoModelRegistry,a=t.personModelRegistry,f=t.contactModelRegistry,l=t.groupModelRegistry,c=t.personRelationshipModelRegistry,h=t.photoEngagementModelRegistry,p=t.photoStatsRegistry,d=t.photoCurationModelRegistry,v,m=[],g,y;return v={fave:t.faveEventModelRegistry,comment:t.commentEventModelRegistry,contacted:t.followerEventModelRegistry,added_to_gallery:t.addedToGalleryEventModelRegistry,tag:t.tagEventModelRegistry,people:t.peopleEventModelRegistry},i.items.item.forEach(function(t){var n=t.activity?t.activity.event:[],r,i;r={objectType:t.type,id:e.guid(),events:[]},t.type==="photo"?r.object=e.APIHelper.response.parsePhotos({photos:[t],photoModelRegistry:u,personModelRegistry:a,photoEngagementModelRegistry:h,photoStatsModelRegistry:p,photoCurationModelRegistry:d}).shift():t.type==="person"?(r.object=a.exists(t.id)?a.proxy(t.id):a.add(e.APIHelper.response.parsePerson({nsid:t.user,pathAlias:t.pathAlias,username:t.username,realname:t.realname,isAdFree:t.isAdFree,ispro:t.ispro,datecreate:t.datecreate,iconurls:t.iconurls})),c.exists(t.user)||c.add({id:t.user,pathAlias:t.pathAlias,isContact:t.contact,isFriend:t.friend,isFamily:t.family,isIgnored:t.ignored,isIgnoredBy:t.ignoredby})):t.type==="group"&&(r.object=l.exists(t.id)?l.proxy(t.id):l.add(l.parseGroupModel(t.id,t.pathAlias,t))),n.forEach(function(t){var n;t.type in v&&(t.type==="people"&&(y=e.APIHelper.response.parseContact({nsid:t.person,username:t.personname}),y=f.exists(y.id)?f.proxy(y.id):f.add(y)),n=e.APIHelper.response.parseNotificationsEvents[t.type](t,y),f.exists(n.owner.id)?n.owner=f.proxy(n.owner.id):n.owner=f.add(n.owner),i=v[t.type].add(n),r.events.push(i))}),s.exists(r.id)||m.push(s.add(r))}),g={id:n.id,notifications:m},o.exists(n.id)?o.getValue(n.id,"notifications").addPage({page:r.page,perPage:r.per_page,pageContent:m,totalItems:parseInt(i.items.total||0,10)}):o.add(g),o.proxy(n.id)}function i(n,r){var i=this,s="flickr.activity.recentByType",o=this._processParams(n);return(new e.FlickrPromise({apiResponse:r.callAPI(s,o),notificationModelRegistry:r.getModelRegistry("notification-models"),notificationsModelRegistry:r.getModelRegistry("person-notifications-models"),groupInfoModelRegistry:r.getModelRegistry("group-info-models"),groupModelRegistry:r.getModelRegistry("group-models"),personModelRegistry:r.getModelRegistry("person-models"),photoModelRegistry:r.getModelRegistry("photo-models"),contactModelRegistry:r.getModelRegistry("contact-models"),photoEngagementModelRegistry:r.getModelRegistry("photo-engagement-models"),personRelationshipModelRegistry:r.getModelRegistry("person-relationship-models"),photoStatsRegistry:r.getModelRegistry("photo-stats-models"),photoCurationModelRegistry:r.getModelRegistry("photo-curation-models"),faveEventModelRegistry:r.getModelRegistry("notification-event-fave-models"),commentEventModelRegistry:r.getModelRegistry("notification-event-comment-models"),followerEventModelRegistry:r.getModelRegistry("notification-event-follower-models"),addedToGalleryEventModelRegistry:r.getModelRegistry("notification-event-added-to-gallery-models"),tagEventModelRegistry:r.getModelRegistry("notification-event-tag-models"),peopleEventModelRegistry:r.getModelRegistry("notification-event-people-models")})).then(function(e){return i._processResponse(e,n,o)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-activity-recentByType"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","search-helper","querystring-parse-simple"],optional:["notification-models","person-notifications-models","contact-models","photo-models","notification-event-fave-models","notification-event-comment-models","notification-event-follower-models","notification-event-added-to-gallery-models","notification-event-people-models","notification-event-tag-models","photo-curation-models"]});
YUI.add("notification-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-activity-recentByType"].run(t,this.appContext)}},attributes:{id:{},objectType:{},object:{isModel:!0},events:{isListProxy:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-activity-recentByType-fetcher"]});
YUI.add("hermes-lang-client-app_fr-fr",function(e,t){e.Intl.add("hermes/client-app","fr-FR",{SAVING_LAST_ACTIONS:["Attention\u00a0! L\u2019enregistrement de vos derni\u00e8res actions est toujours en cours. Vous risquez de les perdre en quittant cette page."],UPLOAD_IN_PROGRESS:["Attendez\u00a0! Vos photos sont encore en route vers nos serveurs. Elles risquent de ne jamais les atteindre si vous quittez cette page maintenant."]})},"@VERSION@",{requires:["intl"]});
